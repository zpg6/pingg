!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("firebaseui"),require("@angular/fire"),require("@angular/fire/auth"),require("firebase/auth"),require("firebase/app"),require("@angular/common")):"function"==typeof define&&define.amd?define("firebaseui-angular",["exports","@angular/core","firebaseui","@angular/fire","@angular/fire/auth","firebase/auth","firebase/app","@angular/common"],t):t((e=e||self)["firebaseui-angular"]={},e.ng.core,e.firebaseui$1,e.ng.fire,e.ng.fire.auth,null,e.firebaseOriginal,e.ng.common)}(this,(function(e,t,i,n,r,a,o,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var s=function(){return(s=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function f(e,t,i,n){var r,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(o=(a<3?r(o):a>3?r(t,i,o):r(t,i))||o);return a>3&&o&&Object.defineProperty(t,i,o),o}function c(e,t){return function(i,n){t(i,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var g=function(){function e(e,t,r){var a=n["ÉµfirebaseAppFactory"](e,r,t);window.firebaseUiInstance||(window.firebaseUiInstance=new i.auth.AuthUI(a.auth())),this.firebaseUiInstance=window.firebaseUiInstance}return e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[n.FIREBASE_OPTIONS]}]},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[n.FIREBASE_APP_NAME]}]},{type:t.NgZone}]},e=f([t.Injectable(),c(0,t.Inject(n.FIREBASE_OPTIONS)),c(1,t.Optional()),c(1,t.Inject(n.FIREBASE_APP_NAME)),l("design:paramtypes",[Object,Object,t.NgZone])],e)}(),b=function(){function e(e,i,n,r,a){this.angularFireAuth=e,this._firebaseUiConfig=i,this._firebaseUiConfig_Feature=n,this.ngZone=r,this.firebaseUIService=a,this.signInSuccessWithAuthResultCallback=new t.EventEmitter,this.signInFailureCallback=new t.EventEmitter,this.uiShownCallback=new t.EventEmitter}var i;return i=e,Object.defineProperty(e.prototype,"firebaseUiConfig",{get:function(){return s(s({},this._firebaseUiConfig),this._firebaseUiConfig_Feature)},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.subscription=this.angularFireAuth.authState.subscribe((function(t){if(t&&t.isAnonymous||!t){if(0===e.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");e.firebaseUIPopup()}}))},e.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.getUIAuthConfig=function(){return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[i.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig},e.prototype.firebaseUIPopup=function(){var e=this.firebaseUIService.firebaseUiInstance,t=this.getUIAuthConfig(),n=!1;t[i.COMPUTED_CALLBACKS]&&(n=!0,delete t[i.COMPUTED_CALLBACKS]),e.start("#firebaseui-auth-container",t),n&&(this._firebaseUiConfig.callbacks=null)},e.prototype.getCallbacks=function(){var e=this;return{signInSuccessWithAuthResult:function(t,i){return e.ngZone.run((function(){e.signInSuccessWithAuthResultCallback.emit({authResult:t,redirectUrl:i})})),e.firebaseUiConfig.signInSuccessUrl},signInFailure:function(t){return e.ngZone.run((function(){e.signInFailureCallback.emit({code:t.code,credential:t.credential})})),Promise.reject()},uiShown:function(){e.ngZone.run((function(){e.uiShownCallback.emit()}))}}},e.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",e.ctorParameters=function(){return[{type:r.AngularFireAuth},{type:void 0,decorators:[{type:t.Inject,args:["firebaseUIAuthConfig"]}]},{type:void 0,decorators:[{type:t.Inject,args:["firebaseUIAuthConfigFeature"]}]},{type:t.NgZone},{type:g}]},f([t.Output("signInSuccessWithAuthResult"),l("design:type",t.EventEmitter)],e.prototype,"signInSuccessWithAuthResultCallback",void 0),f([t.Output("signInFailure"),l("design:type",t.EventEmitter)],e.prototype,"signInFailureCallback",void 0),f([t.Output("uiShown"),l("design:type",t.EventEmitter)],e.prototype,"uiShownCallback",void 0),e=i=f([t.Component({selector:"firebase-ui",template:'<div id="firebaseui-auth-container"></div>'}),c(1,t.Inject("firebaseUIAuthConfig")),c(2,t.Inject("firebaseUIAuthConfigFeature")),l("design:paramtypes",[r.AngularFireAuth,Object,Object,t.NgZone,g])],e)}(),p=o,h=i,d=function(){},I=function(){},C=function(){function e(){}var i;return i=e,e.forRoot=function(e){return{ngModule:i,providers:[{provide:"firebaseUIAuthConfig",useValue:e},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}},e.forFeature=function(e){return{ngModule:i,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:e}]}},e=i=f([t.NgModule({imports:[u.CommonModule],declarations:[b],providers:[g],exports:[b]})],e)}();e.FirebaseUIModule=C,e.FirebaseUISignInFailure=I,e.FirebaseUISignInSuccessWithAuthResult=d,e.FirebaseuiAngularLibraryComponent=b,e.FirebaseuiAngularLibraryService=g,e.firebase=p,e.firebaseui=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=firebaseui-angular.umd.min.js.map
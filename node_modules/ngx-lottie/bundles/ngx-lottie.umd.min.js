!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("ngx-lottie",["exports","@angular/core","@angular/common","rxjs","rxjs/operators","@angular/platform-browser"],e):e((t=t||self)["ngx-lottie"]={},t.ng.core,t.ng.common,t.rxjs,t.rxjs.operators,t.ng.platformBrowser)}(this,(function(t,e,n,r,o,i){"use strict";var a=new e.InjectionToken("LottieOptions"),s=new e.InjectionToken("AnimationCache");function c(t){return"animation-"+t.split(".json")[0]}var p=function(){function t(t,e,n,i){var a,s;this.ngZone=t,this.platformId=e,this.options=n,this.animationCache=i,this.player$=(a=this.options.player,(s=a())instanceof Promise?r.from(s).pipe(o.map((function(t){return t.default||t})),o.publishReplay(1),o.refCount()):r.of(s))}return t.prototype.resolveLoaderAndLoadAnimation=function(t,e,r,i,a,s){var c=this;n.isPlatformServer(this.platformId)||this.player$.pipe(o.takeUntil(s)).subscribe((function(n){var o=function(t,e,n){var r=Object.assign({container:e,renderer:"svg",loop:!0,autoplay:!0},t);return null!==n?n.transformOptions(r):r}(t,e,c.animationCache);c.loadAnimation(n,o,r,i,a)}))},t.prototype.loadAnimation=function(t,e,n,r,o){var i=this.ngZone.runOutsideAngular((function(){return t.loadAnimation(e)}));!function(t,e,n){null!==t&&n.addEventListener("config_ready",(function(){t.set(e,n)}))}(this.animationCache,e,i),r.emit(i),n.addEventListeners(o,i)},t}();p.decorators=[{type:e.Injectable}],p.ctorParameters=function(){return[{type:e.NgZone},{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:void 0,decorators:[{type:e.Inject,args:[a]}]},{type:void 0,decorators:[{type:e.Inject,args:[s]}]}]};var u=function(){function t(t,n){this.platformId=t,this.animationLoader=n,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=new e.EventEmitter,this.complete=new e.EventEmitter,this.loopComplete=new e.EventEmitter,this.enterFrame=new e.EventEmitter,this.segmentStart=new e.EventEmitter,this.configReady=new e.EventEmitter,this.dataReady=new e.EventEmitter,this.domLoaded=new e.EventEmitter,this.destroy=new e.EventEmitter,this.error=new e.EventEmitter,this.destroy$=new r.Subject}return t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.prototype.loadAnimation=function(t,e,r,o){!n.isPlatformServer(this.platformId)&&t.options&&(r.destroyAnimation(),this.animationLoader.resolveLoaderAndLoadAnimation(t.options.currentValue,e,r,this.animationCreated,o,this.destroy$))},t}();u.decorators=[{type:e.Directive,args:[{selector:"[lottie]"}]}],u.ctorParameters=function(){return[{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:p}]},u.propDecorators={options:[{type:e.Input}],containerClass:[{type:e.Input}],styles:[{type:e.Input}],animationCreated:[{type:e.Output}],complete:[{type:e.Output}],loopComplete:[{type:e.Output}],enterFrame:[{type:e.Output}],segmentStart:[{type:e.Output}],configReady:[{type:e.Output}],dataReady:[{type:e.Output}],domLoaded:[{type:e.Output}],destroy:[{type:e.Output}],error:[{type:e.Output}]};var l=function(){function t(){this.cache=new Map}return t.create=function(e){return e.useCache?new t:null},t.prototype.transformOptions=function(t){var e=t.path;return e&&this.cache.has(e)&&(delete t.path,t.animationData=this.cache.get(e)),t},t.prototype.set=function(t,e){t.animationData||this.cache.set(t.path,e.animationData)},t}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function f(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function y(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}Object.create;var h=function(){function t(t,e){this.ngZone=t,this.platformId=e,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}return t.prototype.ngOnDestroy=function(){this.destroyAnimation()},t.prototype.addEventListeners=function(t,e){var n=this;this.animationItem=e,this.ngZone.runOutsideAngular((function(){return n.addEventListenersToObservedEventEmitters(t)}))},t.prototype.destroyAnimation=function(){n.isPlatformServer(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)},t.prototype.addEventListenersToObservedEventEmitters=function(t){var n,r,o=function(t,n){return Object.keys(t).map((function(e){return[e,t[e]]})).filter((function(t){var r=m(t,2),o=r[0],i=r[1];return i instanceof e.EventEmitter&&i.observers.length>0&&n.hasOwnProperty(o)})).map((function(t){var e=m(t,2),r=e[0];return{eventEmitter:e[1],name:n[r]}}))}(t,this.eventsMap),i=function(t,e){a.animationItem.addEventListener(t,(function(t){e.emit(t)}))},a=this;try{for(var s=y(o),c=s.next();!c.done;c=s.next()){var p=c.value;i(p.name,p.eventEmitter)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t}();h.decorators=[{type:e.Injectable}],h.ctorParameters=function(){return[{type:e.NgZone},{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]};var v=function(t){function e(e,n,r,o){var i=t.call(this,e,o)||this;return i.host=n,i.eventsFacade=r,i}return f(e,t),e.prototype.ngOnChanges=function(e){t.prototype.loadAnimation.call(this,e,this.host.nativeElement,this.eventsFacade,this)},e}(u);v.decorators=[{type:e.Directive,args:[{selector:"[lottie]",providers:[h]}]}],v.ctorParameters=function(){return[{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:e.ElementRef,decorators:[{type:e.Self}]},{type:h,decorators:[{type:e.Self}]},{type:p}]};var g=function(t){function e(e,n,r){var o=t.call(this,e,r)||this;return o.eventsFacade=n,o.width=null,o.height=null,o.container=null,o}return f(e,t),e.prototype.ngOnChanges=function(e){t.prototype.loadAnimation.call(this,e,this.container.nativeElement,this.eventsFacade,this)},e}(u);g.decorators=[{type:e.Component,args:[{selector:"ng-lottie",template:'\n    <div\n      #container\n      [style.width]="width || \'100%\'"\n      [style.height]="height || \'100%\'"\n      [ngStyle]="styles"\n      [ngClass]="containerClass"\n    ></div>\n  ',changeDetection:e.ChangeDetectionStrategy.OnPush,providers:[h]}]}],g.ctorParameters=function(){return[{type:String,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:h,decorators:[{type:e.Self}]},{type:p}]},g.propDecorators={width:[{type:e.Input}],height:[{type:e.Input}],container:[{type:e.ViewChild,args:["container",{static:!0}]}]};var O=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[p,{provide:a,useValue:e},{provide:s,useFactory:l.create,deps:[a]}]}},t}();O.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[u,v,g],exports:[u,v,g]}]}];var E=function(){function t(t){this.transferState=t}return t.prototype.get=function(t){var e=c(t),n=i.makeStateKey(e);return this.transferState.get(n,null)},t}();E.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],E.ctorParameters=function(){return[{type:i.TransferState}]},E.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new E(e.ɵɵinject(i.TransferState))},token:E,providedIn:"root"}),t.BaseDirective=u,t.LottieComponent=g,t.LottieDirective=v,t.LottieModule=O,t.LottieTransferState=E,t.transformAnimationFilenameToKey=c,t.ɵb=a,t.ɵc=s,t.ɵd=p,t.ɵe=l,t.ɵf=h,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-lottie.umd.min.js.map
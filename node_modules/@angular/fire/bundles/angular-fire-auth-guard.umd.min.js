!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/router"),require("rxjs"),require("rxjs/operators"),require("@angular/fire")):"function"==typeof define&&define.amd?define("@angular/fire/auth-guard",["exports","@angular/core","@angular/router","rxjs","rxjs/operators","@angular/fire"],r):r(((e=e||self).angular=e.angular||{},e.angular.fire=e.angular.fire||{},e.angular.fire["auth-guard"]={}),e.ng.core,e.ng.router,e.rxjs,e.rxjs.operators,e.angular.fire)}(this,(function(e,r,t,n,u,a){"use strict";var i=u.map((function(e){return!!e})),o=function(e,r,t,o){var c=this;this.router=o,this.canActivate=function(e,r){var t=e.data.authGuardPipe||function(){return i};return c.authState.pipe(u.take(1),t(e,r),u.map((function(e){return"boolean"==typeof e?e:c.router.createUrlTree(e)})))};var p=new a.ɵAngularFireSchedulers(t),s=a.ɵkeepUnstableUntilFirstFactory(p),f=n.of(void 0).pipe(u.observeOn(new a.ɵAngularFireSchedulers(t).outsideAngular),u.switchMap((function(){return t.runOutsideAngular((function(){return import("firebase/auth")}))})),u.map((function(){return a.ɵfirebaseAppFactory(e,t,r)})),u.map((function(e){return t.runOutsideAngular((function(){return e.auth()}))})),u.shareReplay({bufferSize:1,refCount:!1}));this.authState=f.pipe(u.switchMap((function(e){return new n.Observable(e.onAuthStateChanged.bind(e))})),s)};o.decorators=[{type:r.Injectable,args:[{providedIn:"any"}]}],o.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[a.FIREBASE_OPTIONS]}]},{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[a.FIREBASE_APP_NAME]}]},{type:r.NgZone},{type:t.Router}]},o.ɵprov=r.ɵɵdefineInjectable({factory:function(){return new o(r.ɵɵinject(a.FIREBASE_OPTIONS),r.ɵɵinject(a.FIREBASE_APP_NAME,8),r.ɵɵinject(r.NgZone),r.ɵɵinject(t.Router))},token:o,providedIn:"any"});var c=u.map((function(e){return!!e&&!e.isAnonymous})),p=u.switchMap((function(e){return e?e.getIdTokenResult():n.of(null)})),s=u.map((function(e){return!!e&&e.emailVerified})),f=n.pipe(p,u.map((function(e){return e?e.claims:[]}))),d=function(){};d.decorators=[{type:r.NgModule,args:[{providers:[o]}]}],e.AngularFireAuthGuard=o,e.AngularFireAuthGuardModule=d,e.canActivate=function(e){return{canActivate:[o],data:{authGuardPipe:e}}},e.customClaims=f,e.emailVerified=s,e.hasCustomClaim=function(e){return n.pipe(f,u.map((function(r){return r.hasOwnProperty(e)})))},e.idTokenResult=p,e.isNotAnonymous=c,e.loggedIn=i,e.redirectLoggedInTo=function(e){return n.pipe(i,u.map((function(r){return r&&e||!0})))},e.redirectUnauthorizedTo=function(e){return n.pipe(i,u.map((function(r){return r||e})))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-fire-auth-guard.umd.min.js.map
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/operators"),require("@angular/core"),require("@angular/fire"),require("firebase/storage")):"function"==typeof define&&define.amd?define("@angular/fire/storage",["exports","rxjs","rxjs/operators","@angular/core","@angular/fire","firebase/storage"],t):t(((e=e||self).angular=e.angular||{},e.angular.fire=e.angular.fire||{},e.angular.fire.storage={}),e.rxjs,e.rxjs.operators,e.ng.core,e.angular.fire)}(this,(function(e,t,r,n,o){"use strict";function a(e){return new t.Observable((function(t){return e.on("state_changed",(function(e){return t.next(e)}),(function(e){return t.error(e)}),(function(){return t.complete()})),function(){return e.cancel()}}))}function i(e){var t=a(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(r.map((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}function u(e,n,o){return{getDownloadURL:function(){return t.of(void 0).pipe(r.observeOn(n.outsideAngular),r.switchMap((function(){return e.getDownloadURL()})),o)},getMetadata:function(){return t.of(void 0).pipe(r.observeOn(n.outsideAngular),r.switchMap((function(){return e.getMetadata()})),o)},delete:function(){return t.from(e.delete())},child:function(t){return u(e.child(t),n,o)},updateMetadata:function(r){return t.from(e.updateMetadata(r))},put:function(t,r){return i(e.put(t,r))},putString:function(t,r,n){return i(e.putString(t,r,n))},listAll:function(){return t.from(e.listAll())}}}var s=new n.InjectionToken("angularfire2.storageBucket"),c=function(){function e(e,t,r,n,a){this.schedulers=new o.ɵAngularFireSchedulers(a),this.keepUnstableUntilFirst=o.ɵkeepUnstableUntilFirstFactory(this.schedulers),this.storage=a.runOutsideAngular((function(){return o.ɵfirebaseAppFactory(e,a,t).storage(r||void 0)}))}return e.prototype.ref=function(e){return u(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)},e.prototype.upload=function(e,t,r){return u(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,r)},e}();c.decorators=[{type:n.Injectable,args:[{providedIn:"any"}]}],c.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[o.FIREBASE_OPTIONS]}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[o.FIREBASE_APP_NAME]}]},{type:void 0,decorators:[{type:n.Optional},{type:n.Inject,args:[s]}]},{type:Object,decorators:[{type:n.Inject,args:[n.PLATFORM_ID]}]},{type:n.NgZone}]},c.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new c(n.ɵɵinject(o.FIREBASE_OPTIONS),n.ɵɵinject(o.FIREBASE_APP_NAME,8),n.ɵɵinject(s,8),n.ɵɵinject(n.PLATFORM_ID),n.ɵɵinject(n.NgZone))},token:c,providedIn:"any"});var f=function(){};f.decorators=[{type:n.NgModule,args:[{providers:[c]}]}],e.AngularFireStorage=c,e.AngularFireStorageModule=f,e.BUCKET=s,e.createStorageRef=u,e.createUploadTask=i,e.fromTask=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angular-fire-storage.umd.min.js.map